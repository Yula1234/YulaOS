// SPDX-License-Identifier: GPL-2.0
// Copyright (C) 2025 Yula1234

#ifndef FONT_H
#define FONT_H

#include <stdint.h>

// Simple font 8x16 (ASCII 32..126)
static const uint8_t font8x16_basic[128][16] = {
    [32] = {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [33] = {0x00,0x00,0x18,0x3C,0x3C,0x3C,0x18,0x18,0x18,0x00,0x18,0x18,0x00,0x00,0x00,0x00},
    [34] = {0x00,0x66,0x66,0x66,0x22,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [35] = {0x00,0x00,0x66,0x66,0xff,0x66,0x66,0xff,0x66,0x66,0x00,0x00,0x00,0x00,0x00,0x00},
    [36] = {0x00,0x18,0x7e,0xc3,0xc0,0x7e,0x03,0xc3,0x7e,0x18,0x18,0x00,0x00,0x00,0x00,0x00},
    [37] = {0x00,0x00,0xc3,0xc6,0x0c,0x18,0x30,0x63,0xc3,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [38] = {0x00,0x00,0x3c,0x66,0x66,0x3c,0x67,0x66,0x3f,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [39] = {0x00,0x06,0x0c,0x18,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [40] = {0x00,0x0c,0x18,0x30,0x30,0x30,0x30,0x30,0x18,0x0c,0x00,0x00,0x00,0x00,0x00,0x00},
    [41] = {0x00,0x30,0x18,0x0c,0x0c,0x0c,0x0c,0x0c,0x18,0x30,0x00,0x00,0x00,0x00,0x00,0x00},
    [42] = {0x00,0x00,0x00,0x66,0x3c,0xff,0x3c,0x66,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [43] = {0x00,0x00,0x18,0x18,0x18,0x7e,0x18,0x18,0x18,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [44] = {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x18,0x18,0x18,0x0c,0x00,0x00,0x00,0x00},
    [45] = {0x00,0x00,0x00,0x00,0x00,0xfe,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [46] = {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x18,0x18,0x00,0x00,0x00,0x00,0x00},
    [47] = {0x00,0x00,0x03,0x06,0x0c,0x18,0x30,0x60,0xc0,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [48] = {0x00,0x00,0x3c,0x66,0x6e,0x7e,0x76,0x66,0x3c,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [49] = {0x00,0x00,0x18,0x38,0x18,0x18,0x18,0x18,0x7e,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [50] = {0x00,0x00,0x3c,0x66,0x06,0x0c,0x18,0x30,0x7e,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [51] = {0x00,0x00,0x3e,0x06,0x06,0x1e,0x06,0x06,0x3e,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [52] = {0x00,0x00,0x06,0x0e,0x1e,0x36,0x7e,0x06,0x06,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [53] = {0x00,0x00,0x7e,0x60,0x60,0x7c,0x06,0x06,0x7c,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [54] = {0x00,0x00,0x1c,0x30,0x60,0x7c,0x66,0x66,0x3c,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [55] = {0x00,0x00,0x7e,0x06,0x0c,0x18,0x30,0x30,0x30,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [56] = {0x00,0x00,0x3c,0x66,0x66,0x3c,0x66,0x66,0x3c,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [57] = {0x00,0x00,0x3c,0x66,0x66,0x3e,0x06,0x0c,0x38,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [58] = {0x00,0x00,0x00,0x18,0x18,0x00,0x00,0x18,0x18,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [59] = {0x00,0x00,0x00,0x18,0x18,0x00,0x00,0x18,0x18,0x0c,0x00,0x00,0x00,0x00,0x00,0x00},
    [60] = {0x00,0x00,0x0c,0x18,0x30,0x60,0x30,0x18,0x0c,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [61] = {0x00,0x00,0x00,0x00,0x7e,0x00,0x7e,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [62] = {0x00,0x00,0x30,0x18,0x0c,0x06,0x0c,0x18,0x30,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [63] = {0x00,0x00,0x3c,0x66,0x06,0x0c,0x18,0x00,0x18,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [64] = {0x00,0x00,0x3c,0x66,0x6e,0x6e,0x60,0x62,0x3c,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [65] = {0x00,0x00,0x18,0x3c,0x66,0x66,0x7e,0x66,0x66,0x66,0x00,0x00,0x00,0x00,0x00,0x00},
    [66] = {0x00,0x00,0xfc,0x66,0x66,0x7c,0x66,0x66,0x66,0xfc,0x00,0x00,0x00,0x00,0x00,0x00},
    [67] = {0x00,0x00,0x3c,0x66,0x60,0x60,0x60,0x66,0x3c,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [68] = {0x00,0x00,0xf8,0x6c,0x66,0x66,0x66,0x6c,0xf8,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [69] = {0x00,0x00,0x7e,0x60,0x60,0x78,0x60,0x60,0x7e,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [70] = {0x00,0x00,0x7e,0x60,0x60,0x78,0x60,0x60,0x60,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [71] = {0x00,0x00,0x3c,0x66,0x60,0x6e,0x66,0x66,0x3c,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [72] = {0x00,0x00,0x66,0x66,0x66,0x7e,0x66,0x66,0x66,0x66,0x00,0x00,0x00,0x00,0x00,0x00},
    [73] = {0x00,0x00,0x3c,0x18,0x18,0x18,0x18,0x18,0x3c,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [74] = {0x00,0x00,0x1e,0x06,0x06,0x06,0x06,0x66,0x3c,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [75] = {0x00,0x00,0x66,0x6c,0x78,0x70,0x78,0x6c,0x66,0x66,0x00,0x00,0x00,0x00,0x00,0x00},
    [76] = {0x00,0x00,0x60,0x60,0x60,0x60,0x60,0x60,0x7e,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [77] = {0x00,0x00,0x63,0x77,0x7f,0x6b,0x63,0x63,0x63,0x63,0x00,0x00,0x00,0x00,0x00,0x00},
    [78] = {0x00,0x00,0x66,0x6e,0x76,0x66,0x66,0x66,0x66,0x66,0x00,0x00,0x00,0x00,0x00,0x00},
    [79] = {0x00,0x00,0x3c,0x66,0x66,0x66,0x66,0x66,0x3c,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [80] = {0x00,0x00,0xfc,0x66,0x66,0x7c,0x60,0x60,0x60,0x60,0x00,0x00,0x00,0x00,0x00,0x00},
    [81] = {0x00,0x00,0x3c,0x66,0x66,0x66,0x66,0x3c,0x0e,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [82] = {0x00,0x00,0xfc,0x66,0x66,0x7c,0x78,0x6c,0x66,0x66,0x00,0x00,0x00,0x00,0x00,0x00},
    [83] = {0x00,0x00,0x3c,0x66,0x60,0x3c,0x06,0x66,0x3c,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [84] = {0x00,0x00,0x7e,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x00,0x00,0x00,0x00,0x00,0x00},
    [85] = {0x00,0x00,0x66,0x66,0x66,0x66,0x66,0x66,0x3c,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [86] = {0x00,0x00,0x66,0x66,0x66,0x66,0x66,0x3c,0x18,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [87] = {0x00,0x00,0x63,0x63,0x63,0x6b,0x7f,0x77,0x63,0x63,0x00,0x00,0x00,0x00,0x00,0x00},
    [88] = {0x00,0x00,0x66,0x66,0x3c,0x18,0x3c,0x66,0x66,0x66,0x00,0x00,0x00,0x00,0x00,0x00},
    [89] = {0x00,0x00,0x66,0x66,0x66,0x3c,0x18,0x18,0x18,0x18,0x00,0x00,0x00,0x00,0x00,0x00},
    [90] = {0x00,0x00,0x7e,0x06,0x0c,0x18,0x30,0x60,0x7e,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [91] = {0x00,0x1e,0x18,0x18,0x18,0x18,0x18,0x18,0x1e,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [92] = {0x00,0x00,0xc0,0x60,0x30,0x18,0x0c,0x06,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [93] = {0x00,0x78,0x18,0x18,0x18,0x18,0x18,0x18,0x78,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [94] = {0x00,0x08,0x1c,0x36,0x63,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [95] = {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xff,0x00,0x00,0x00,0x00,0x00,0x00},
    [96] = {0x00,0x18,0x0c,0x06,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [97] = {0x00,0x00,0x00,0x00,0x3c,0x06,0x3e,0x66,0x3e,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [98] = {0x00,0x00,0x60,0x60,0x7c,0x66,0x66,0x66,0x7c,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [99] = {0x00,0x00,0x00,0x00,0x3c,0x60,0x60,0x66,0x3c,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [100] = {0x00,0x00,0x06,0x06,0x3e,0x66,0x66,0x66,0x3e,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [101] = {0x00,0x00,0x00,0x00,0x3c,0x66,0x7e,0x60,0x3c,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [102] = {0x00,0x00,0x1c,0x30,0x78,0x30,0x30,0x30,0x30,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [103] = {0x00,0x00,0x00,0x00,0x3e,0x66,0x66,0x3e,0x06,0x3c,0x00,0x00,0x00,0x00,0x00,0x00},
    [104] = {0x00,0x00,0x60,0x60,0x7c,0x66,0x66,0x66,0x66,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [105] = {0x00,0x00,0x18,0x00,0x38,0x18,0x18,0x18,0x3c,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [106] = {0x00,0x00,0x06,0x00,0x06,0x06,0x06,0x06,0x06,0x3c,0x00,0x00,0x00,0x00,0x00,0x00},
    [107] = {0x00,0x00,0x60,0x60,0x66,0x6c,0x78,0x6c,0x66,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [108] = {0x00,0x00,0x38,0x18,0x18,0x18,0x18,0x18,0x3c,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [109] = {0x00,0x00,0x00,0x00,0x66,0x7f,0x7f,0x6b,0x63,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [110] = {0x00,0x00,0x00,0x00,0x7c,0x66,0x66,0x66,0x66,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [111] = {0x00,0x00,0x00,0x00,0x3c,0x66,0x66,0x66,0x3c,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [112] = {0x00,0x00,0x00,0x00,0x7c,0x66,0x66,0x7c,0x60,0x60,0x00,0x00,0x00,0x00,0x00,0x00},
    [113] = {0x00,0x00,0x00,0x00,0x3e,0x66,0x66,0x3e,0x06,0x06,0x00,0x00,0x00,0x00,0x00,0x00},
    [114] = {0x00,0x00,0x00,0x00,0x7c,0x66,0x60,0x60,0x60,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [115] = {0x00,0x00,0x00,0x00,0x3e,0x60,0x3c,0x06,0x7c,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [116] = {0x00,0x00,0x30,0x30,0x7c,0x30,0x30,0x30,0x1c,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [117] = {0x00,0x00,0x00,0x00,0x66,0x66,0x66,0x66,0x3e,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [118] = {0x00,0x00,0x00,0x00,0x66,0x66,0x66,0x3c,0x18,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [119] = {0x00,0x00,0x00,0x00,0x63,0x6b,0x7f,0x7f,0x36,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [120] = {0x00,0x00,0x00,0x00,0x66,0x3c,0x18,0x3c,0x66,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [121] = {0x00,0x00,0x00,0x00,0x66,0x66,0x66,0x3e,0x06,0x3c,0x00,0x00,0x00,0x00,0x00,0x00},
    [122] = {0x00,0x00,0x00,0x00,0x7e,0x0c,0x18,0x30,0x7e,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [123] = {0x00,0x0c,0x18,0x18,0x70,0x18,0x18,0x18,0x0c,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [124] = {0x00,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x00,0x00,0x00,0x00,0x00,0x00},
    [125] = {0x00,0x30,0x18,0x18,0x0e,0x18,0x18,0x18,0x30,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [126] = {0x00,0x00,0x00,0x32,0x5c,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
    [127] = {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
};

static void draw_char(uint32_t* buf, int w, int h, int x, int y, char c, uint32_t color) {
    if (c < 0) c = '?';
    const uint8_t* glyph = font8x16_basic[(int)c];
    
    for (int row = 0; row < 16; row++) {
        for (int col = 0; col < 8; col++) {
            if ((glyph[row] >> (7 - col)) & 1) { 
                 int px = x + col;
                 int py = y + row;
                 if (px >= 0 && py >= 0 && px < w && py < h) buf[py * w + px] = color;
            }
        }
    }
}

static void draw_string(uint32_t* buf, int w, int h, int x, int y, const char* s, uint32_t color) {
    while (*s) {
        draw_char(buf, w, h, x, y, *s, color);
        x += 8;
        s++;
    }
}

#endif
